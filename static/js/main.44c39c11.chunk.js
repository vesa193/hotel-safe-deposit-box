(this["webpackJsonphotel-safe-deposit-box"]=this["webpackJsonphotel-safe-deposit-box"]||[]).push([[0],{30:function(e,t,n){},40:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return be}));var r=n(2),c=n.n(r),a=n(14),s=n.n(a),o=(n(30),n(8)),u=n(10),l=n(20),i=n(25),d=n(12),b=n(17),v=n(9),p="SET_BOX_PROP",x="ENTER_NUMBERS",O="SUBMIT_CODE",m="REPEAT_TO_UNLOCK",j="VALIDATE_MASTER_CODE",y={numbers:[],submitedCode:null,processing:!1};var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case x:return Object(v.a)(Object(v.a)({},e),{},{numbers:[].concat(Object(b.a)(e.numbers),[null===t||void 0===t?void 0:t.numbers])});case O:return Object(v.a)(Object(v.a)({},e),{},{submitedCode:null===t||void 0===t?void 0:t.submitedCode});case p:return Object(v.a)(Object(v.a)({},e),{},Object(d.a)({},t.key,t.value));default:return e}},g="ACTIVATE_SCREEN",f="FOLLOW_COUNTER",h="SET_COMMON_PROP",S={anyProp:null,isActiveScreen:!1,isTimeSpace:!1,clickedButtonsCounter:0};var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case f:return Object(v.a)(Object(v.a)({},e),{},{clickedButtonsCounter:null===t||void 0===t?void 0:t.counter});case h:return Object(v.a)(Object(v.a)({},e),{},Object(d.a)({},t.key,t.value));default:return e}},L=Object(u.combineReducers)({common:I,box:k}),w=n(6),_=n.n(w),C=n(1),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{validation:"".concat("https://9w4qucosgf.execute-api.eu-central-1.amazonaws.com/default/CR-JS_team_M02a?c").concat(e)}},R=_.a.mark(U),N=_.a.mark(P),T=_.a.mark(F),A=_.a.mark(D),B=_.a.mark(J),M=_.a.mark(W);function U(e){var t;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,null===e||void 0===e?void 0:e.submitedCode;case 3:if(t=n.sent){n.next=9;break}return n.next=7,Object(C.d)({type:p,key:"message",value:"blank (no value)"});case 7:n.next=60;break;case 9:if(!(t.length<6)){n.next=36;break}return n.next=12,Object(C.d)({type:p,key:"processing",value:!0});case 12:return n.next=14,Object(C.d)({type:p,key:"message",value:"Locking..."});case 14:return n.next=16,Object(C.c)(3e3);case 16:return n.next=18,Object(C.d)({type:p,key:"message",value:"Error"});case 18:return n.next=20,Object(C.c)(1500);case 20:return n.next=22,Object(C.d)({type:p,key:"message",value:"Closed"});case 22:return n.next=24,Object(C.c)(1500);case 24:return n.next=26,Object(C.d)({type:p,key:"message",value:""});case 26:return n.next=28,Object(C.d)({type:p,key:"processing",value:!1});case 28:return n.next=30,Object(C.d)({type:p,key:"numbers",value:[]});case 30:return n.next=32,localStorage.removeItem("code_numbers");case 32:return n.next=34,localStorage.removeItem("stored_code");case 34:n.next=60;break;case 36:return n.next=38,Object(C.d)({type:p,key:"processing",value:!0});case 38:return n.next=40,Object(C.d)({type:p,key:"message",value:"Locking..."});case 40:return n.next=42,Object(C.c)(3e3);case 42:return n.next=44,Object(C.d)({type:p,key:"isLockedBox",value:!0});case 44:return n.next=46,localStorage.setItem("isLocked","true");case 46:return n.next=48,localStorage.removeItem("code_numbers");case 48:return n.next=50,localStorage.removeItem("stored_code");case 50:return n.next=52,Object(C.d)({type:p,key:"numbers",value:[]});case 52:return n.next=54,Object(C.d)({type:p,key:"message",value:"Closed"});case 54:return n.next=56,Object(C.c)(1500);case 56:return n.next=58,Object(C.d)({type:p,key:"message",value:""});case 58:return n.next=60,Object(C.d)({type:p,key:"processing",value:!1});case 60:n.next=65;break;case 62:n.prev=62,n.t0=n.catch(0),console.log("error",n.t0);case 65:case"end":return n.stop()}}),R,null,[[0,62]])}function P(e){var t,n;return _.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,localStorage.getItem("submited_code").replace(/L/g,"");case 3:return t=r.sent,r.next=6,null===e||void 0===e?void 0:e.code.replace(/L/g,"");case 6:if(n=r.sent,console.log("unlockingflow",t,n,t===n),n){r.next=13;break}return r.next=11,Object(C.d)({type:p,key:"message",value:"blank (no value)"});case 11:r.next=83;break;case 13:if(t!==n){r.next=42;break}return r.next=16,Object(C.d)({type:p,key:"processing",value:!0});case 16:return r.next=18,Object(C.d)({type:p,key:"message",value:"Unlocking..."});case 18:return r.next=20,Object(C.c)(3e3);case 20:return r.next=22,Object(C.d)({type:p,key:"isLockedBox",value:!1});case 22:return r.next=24,localStorage.setItem("isLocked","false");case 24:return r.next=26,localStorage.removeItem("submited_code");case 26:return r.next=28,localStorage.removeItem("code_numbers");case 28:return r.next=30,localStorage.removeItem("stored_code");case 30:return r.next=32,Object(C.d)({type:p,key:"numbers",value:[]});case 32:return r.next=34,Object(C.d)({type:p,key:"message",value:"Opened"});case 34:return r.next=36,Object(C.c)(1500);case 36:return r.next=38,Object(C.d)({type:p,key:"message",value:"Ready"});case 38:return r.next=40,Object(C.d)({type:p,key:"processing",value:!1});case 40:r.next=83;break;case 42:if("000000"!==n){r.next=59;break}return r.next=45,Object(C.d)({type:p,key:"isServiceMode",value:!0});case 45:return r.next=47,Object(C.d)({type:p,key:"processing",value:!0});case 47:return r.next=49,Object(C.d)({type:p,key:"numbers",value:[]});case 49:return r.next=51,Object(C.d)({type:p,key:"message",value:"Service"});case 51:return r.next=53,Object(C.c)(3e3);case 53:return r.next=55,Object(C.d)({type:p,key:"message",value:""});case 55:return r.next=57,Object(C.d)({type:p,key:"processing",value:!1});case 57:r.next=83;break;case 59:return r.next=61,Object(C.d)({type:p,key:"processing",value:!0});case 61:return r.next=63,Object(C.d)({type:p,key:"message",value:"Unlocking..."});case 63:return r.next=65,Object(C.c)(3e3);case 65:return r.next=67,Object(C.d)({type:p,key:"message",value:"Error"});case 67:return r.next=69,Object(C.c)(1500);case 69:return r.next=71,Object(C.d)({type:p,key:"message",value:"Closed"});case 71:return r.next=73,Object(C.c)(1500);case 73:return r.next=75,Object(C.d)({type:p,key:"message",value:""});case 75:return r.next=77,Object(C.d)({type:p,key:"processing",value:!1});case 77:return r.next=79,Object(C.d)({type:p,key:"numbers",value:[]});case 79:return r.next=81,localStorage.removeItem("code_numbers");case 81:return r.next=83,localStorage.removeItem("stored_code");case 83:r.next=88;break;case 85:r.prev=85,r.t0=r.catch(0),console.log("error",r.t0);case 88:case"end":return r.stop()}}),N,null,[[0,85]])}function F(e){var t,n,r,c;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,null===e||void 0===e?void 0:e.mastercode;case 3:if(t=a.sent,n="4815162342",t){a.next=10;break}return a.next=8,Object(C.d)({type:p,key:"message",value:"blank (no value)"});case 8:a.next=78;break;case 10:return a.next=12,Object(C.d)({type:p,key:"processing",value:!0});case 12:return a.next=14,Object(C.d)({type:p,key:"message",value:"Validating..."});case 14:return a.next=16,Object(C.b)((function(){return fetch(E(t).validation).then((function(e){return e.json()})).then((function(e){return e}))}));case 16:return r=a.sent,a.next=19,null===r||void 0===r?void 0:r.sn;case 19:return c=a.sent,console.log("SN",c),a.next=23,Object(C.c)(3e3);case 23:if(n!==c){a.next=52;break}return a.next=26,Object(C.d)({type:p,key:"message",value:"Unlocking..."});case 26:return a.next=28,Object(C.c)(3e3);case 28:return a.next=30,Object(C.d)({type:p,key:"isLockedBox",value:!1});case 30:return a.next=32,localStorage.setItem("isLocked","false");case 32:return a.next=34,localStorage.removeItem("submited_code");case 34:return a.next=36,localStorage.removeItem("code_numbers");case 36:return a.next=38,localStorage.removeItem("stored_code");case 38:return a.next=40,Object(C.d)({type:p,key:"numbers",value:[]});case 40:return a.next=42,Object(C.d)({type:p,key:"message",value:"Opened"});case 42:return a.next=44,Object(C.c)(1500);case 44:return a.next=46,Object(C.d)({type:p,key:"message",value:"Ready"});case 46:return a.next=48,Object(C.d)({type:p,key:"processing",value:!1});case 48:return a.next=50,Object(C.d)({type:p,key:"isServiceMode",value:!1});case 50:a.next=78;break;case 52:return a.next=54,Object(C.d)({type:p,key:"processing",value:!0});case 54:return a.next=56,Object(C.d)({type:p,key:"message",value:"Unlocking..."});case 56:return a.next=58,Object(C.c)(3e3);case 58:return a.next=60,Object(C.d)({type:p,key:"message",value:"Error"});case 60:return a.next=62,Object(C.c)(1500);case 62:return a.next=64,Object(C.d)({type:p,key:"message",value:"Closed"});case 64:return a.next=66,Object(C.c)(1500);case 66:return a.next=68,Object(C.d)({type:p,key:"message",value:""});case 68:return a.next=70,Object(C.d)({type:p,key:"processing",value:!1});case 70:return a.next=72,Object(C.d)({type:p,key:"isServiceMode",value:!1});case 72:return a.next=74,Object(C.d)({type:p,key:"numbers",value:[]});case 74:return a.next=76,localStorage.removeItem("code_numbers");case 76:return a.next=78,localStorage.removeItem("stored_code");case 78:a.next=83;break;case 80:a.prev=80,a.t0=a.catch(0),console.log("error",a.t0);case 83:case"end":return a.stop()}}),T,null,[[0,80]])}function D(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(O,U);case 2:case"end":return e.stop()}}),A)}function J(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(m,P);case 2:case"end":return e.stop()}}),B)}function W(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(j,F);case 2:case"end":return e.stop()}}),M)}var V=_.a.mark(z),H=_.a.mark(K),q=_.a.mark(X);function z(e){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,null===e||void 0===e?void 0:e.pressedBox;case 3:if("pressed"!==t.sent){t.next=13;break}return t.next=7,Object(C.d)({type:h,key:"isActiveScreen",value:!0});case 7:return t.next=9,Object(C.c)(5e3);case 9:return t.next=11,Object(C.d)({type:h,key:"isActiveScreen",value:!1});case 11:t.next=15;break;case 13:return t.next=15,Object(C.d)({type:h,key:"isActiveScreen",value:!1});case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.log("error",t.t0);case 20:case"end":return t.stop()}}),V,null,[[0,17]])}function K(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.e)(g,z);case 2:case"end":return e.stop()}}),H)}function X(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),q)}var G=_.a.mark(Q);function Q(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.a)([D(),J(),K(),X(),W()]);case 2:case"end":return e.stop()}}),G)}var Y=n(18),Z=(n(40),n(5)),$=function(e){var t=e.label,n=e.onClick,r=e.disabled;return Object(Z.jsx)("div",{"aria-disabled":r?"true":"false",className:"box-keypad-button",onClick:n,children:t})},ee=[{id:0,label:7},{id:1,label:8},{id:2,label:9},{id:3,label:4},{id:4,label:5},{id:5,label:6},{id:6,label:1},{id:7,label:2},{id:8,label:3},{id:9,label:"*"},{id:10,label:0},{id:11,label:"L"}],te=(n(42),function(e,t){return{type:O,submitedCode:e,isSubmitedFirst:t}}),ne=function(e){return{type:m,code:e}};function re(e){return e.toString().replaceAll(",","")}var ce=function(){var e=Object(o.b)(),t=Object(r.useState)(0),n=Object(Y.a)(t,2),c=n[0],a=n[1],s=Object(o.c)((function(e){return null===e||void 0===e?void 0:e.box})),u=null===s||void 0===s?void 0:s.processing,l=re(null===s||void 0===s?void 0:s.numbers),i=null===s||void 0===s?void 0:s.isServiceMode,d=Object(o.c)((function(e){var t;return null===e||void 0===e||null===(t=e.common)||void 0===t?void 0:t.isTimeSpace})),v=JSON.parse(localStorage.getItem("isLocked"));Object(r.useEffect)((function(){if(d)return d}),[d]);var p=Object(r.useRef)();Object(r.useEffect)((function(){p.current=c}));var O=p.current,m=Object(r.useRef)(null),y=function(t){e({type:g,pressedBox:"pressed"}),(c>0||c!==O)&&clearInterval(m.current);var n=re([].concat(Object(b.a)(l),[t]));"L"!==t&&(a(c+=1),e(function(e){return{type:f,counter:e}}(c)),e(function(e){return{type:x,numbers:e}}(t)),e(function(e,t){return{type:"FOLLOW_ACTION",isTimeSpace:e,tapCounter:t}}(!0)),m.current=setInterval((function(){v?e(ne(n.replace(/L/g,""))):(e(te(n.replace(/L/g,""))),localStorage.setItem("submited_code",n.replace(/L/g,""))),clearInterval(m.current)}),1200)),"L"===t&&(i?e({type:j,mastercode:n}):v?e(ne(n)):(e(te(n)),localStorage.setItem("submited_code",n)))};return Object(Z.jsx)("div",{className:"box-keypad",children:ee.map((function(e){return Object(Z.jsx)($,{label:null===e||void 0===e?void 0:e.label,disabled:u,onClick:function(){return y(null===e||void 0===e?void 0:e.label)}},null===e||void 0===e?void 0:e.id)}))})},ae=(n(43),function(e){var t=e.isLocked,n=e.message,c=Object(o.c)((function(e){var t;return null===e||void 0===e||null===(t=e.box)||void 0===t?void 0:t.numbers})),a=Object(o.c)((function(e){var t;return null===e||void 0===e||null===(t=e.box)||void 0===t?void 0:t.processing})),s=Object(o.c)((function(e){var t;return null===e||void 0===e||null===(t=e.common)||void 0===t?void 0:t.isActiveScreen})),u=Object(r.useState)(null),l=Object(Y.a)(u,2),i=l[0],d=l[1],b=0===c.length,v=localStorage.getItem("stored_code"),p=re(c)||v,x="Ready",O=(null===n||void 0===n?void 0:n.startsWith("blank"))&&b,m=s||a?"screen-on":"screen-off";return Object(r.useEffect)((function(){p&&d(p)}),[p]),Object(r.useEffect)((function(){if(s)return s}),[s]),b||(localStorage.setItem("code_numbers",JSON.stringify(c)),localStorage.setItem("stored_code",p)),a||!b||n?a?x=n:a||(x=b?n:i):x=t?n:"Ready",Object(Z.jsxs)("div",{className:"box-screen ".concat(m),children:[Object(Z.jsx)("p",{children:t?"Locked":"Unlocked"}),Object(Z.jsx)("h4",{className:O?"smaller-text":"",children:x})]})}),se=(n(44),function(e){var t=e.serialNumber,n=Object(o.c)((function(e){return null===e||void 0===e?void 0:e.box})),r=null===n||void 0===n?void 0:n.message,c=localStorage.getItem("isLocked"),a=(null===n||void 0===n?void 0:n.isLockedBox)||JSON.parse(c);return Object(Z.jsxs)("div",{className:"box",children:[Object(Z.jsx)(ae,{isLocked:a,message:r}),Object(Z.jsx)(ce,{}),Object(Z.jsxs)("p",{className:"box-serial-number",children:["S/N: ",t]})]})});n(45);var oe=function(){return Object(Z.jsx)("main",{className:"app",children:Object(Z.jsx)(se,{serialNumber:"4815162342"})})},ue={theme:{nav:{label:"react-app"},showHeaderOnAuthRoutes:!0,showInputIconsOnLogin:!1,routesWithoutStaticHeader:["/item-details"]},api:{baseURL:"https://hybrid-master.herokuapp.com",wordPressBaseURL:"https://hybridapp.co.uk"},general:{clientName:"react-app",appExitRoutes:["/","/home","/dashboard"],authRoutes:["/login","/register","/reset-password"],isReduxDevToolsOn:!0,isWebPlatform:!1,defaultServiceCharge:12},appType:{hasOrdering:!0,hasLoyalty:!0,hasEmailValidationEnabled:!0,hasCampaignManager:!0,referAFriend:!0,hasCancelOrder:!0,hasServiceCharge:!0,hasUnlockRewardsOnLoyalty:!1,isReward:!1,oldLayoutConfirmationScreens:!1}},le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},ie=Object(l.a)(),de=Object(u.applyMiddleware)(ie);ue.general.isReduxDevToolsOn&&(de=Object(i.composeWithDevTools)(Object(u.applyMiddleware)(ie)));var be=Object(u.createStore)(L,de);ie.run(Q),s.a.render(Object(Z.jsx)(c.a.StrictMode,{children:Object(Z.jsx)(o.a,{store:be,children:Object(Z.jsx)(oe,{})})}),document.getElementById("root")),le()}},[[46,1,2]]]);
//# sourceMappingURL=main.44c39c11.chunk.js.map